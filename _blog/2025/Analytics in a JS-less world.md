Analytics in a JS-less world
==================

This post relates to my recent explorations on the development of progressively enhanced frontends, with a focus on the usability of web-applications without javascript. It is in the context of user-tracking and ad-delivery that the absence of javascript really uncovers what it is primarily being used for.

Javascript libraries are often injected on the client to be able to track user-activity and/or for ad-delivery. For most websites these two go hand in hand. While it is totally possible to collect server side analytics, I suspect this is not often done for the following reasons:

- Client side tracking yields more and more detailed data
- Server side tracking requires deep technical integration; either in the application itself, or in supporting infrastructure

The analytics and ad-tech industry has come up with "innovations" allowing the fingerprinting of individuals based on thousands of different aspects; most notably being the environment they use; that is screen resolution, browser, operating system, and much, much more. The remainder can be extracted based on behavioural analysis. The main problem here - in my humble opinion - is not so much the analytics part (more on that later). The problem here is that this information is aggregated from across the internet, with the goal of extraction: more attention and ultimately more money. Hence the close ties between analytics and ads.

While I do oppose my information being abused to deliver more targeted advertisements, I am not necessarily opposed to my usage information being collected whenever I use an application. That is as long as this information is only used for improving said application. It is within this context that there are many ways to ethically collect analytics; most of which involve a certain amount of anonymity.

But I digress; back to HTML based applications. Over the years I have gotten a liking to build crude looking web applications. Especially for the reason that they look little sophisticated; but are able to hide an enormous data-processing machine. It is not like you are particularly limited by the information of relevant telemetry and analytics you're able to collect when you're building an HTML-only application. Quite the opposite. It is by collecting all available information that you're able to get a crystal clear overview over the usage patterns within your application.

Running a data-driven application is in fact very much possible using a HTML-only frontend. Key to achieving this is two-fold. First of is the collection of so-called wide-events. Key here is to log as much relevant information as possible. Response codes, response times, endpoints, user accounts (possibly hashed), etc. Based on this information it is already possible to map out user flows through the application in a way which makes most analytics providers make a run for their money. The second key to this is the use of event-sourcing. Event sourcing in itself is not a magic bullet, but what it allows is the continuous reprocessing of information in a way which provides a deeper insight into the underlying phenomena represented by the data; thus allowing one to continue improving their offering. These two aspects work in symbiosis with one another. One is used to identify usage patterns and understand the user-defined goal of the application better. The other is there to allow one to keep iterating and keep on improving their offering. Together these are meant to provide a feedback loop pinging back and forth.

This all is not to say that there is no value in client-side javascript. In fact there are beautiful visualisations which are outright impossible to make without javascript. An important point here is that user-side tracking is totally unnecessary. A baseline for a product can absolutely be built upon a HTML-only foundation. Javascript can still sporadically be sprinkled upon the pieces wherei